{"componentChunkName":"component---src-templates-blog-content-js","path":"/posts/frontend/grunt","result":{"data":{"markdownRemark":{"html":"<p>Grunt是一个JavaScript构建工具。</p>\n<h5>【1】Install Grunt</h5>\n<p>在安装Grunt前需要安装node NPM。\n首先全局安装grunt-cli（grunt-cli为grunt的命令工具）。</p>\n<p><code class=\"language-text\">$ npm install -g grunt-cli</code></p>\n<p>然后在开发的项目目录下安装grunt。</p>\n<p> <code class=\"language-text\">$ npm install grunt</code></p>\n<p>通过\"—version\"命令查看当前cli和grunt版本</p>\n<p><code class=\"language-text\">$ grunt —version</code></p>\n<p>通过git安装模板插件</p>\n<p><code class=\"language-text\">$ git clone https://github.com/gruntjs/grunt-init-gruntfile.git ~/.grunt-init/gruntplugin</code></p>\n<p>通过grunt-init --help命令可以查看到Available templates，当前安装的模板名称为gruntplugin。\n安装grunt常用的插件。</p>\n<p><code class=\"language-text\">$ npm install grunt-contrib-uglify</code> </p>\n<p><code class=\"language-text\">$ npm install grunt-contrib-concat</code> </p>\n<p><code class=\"language-text\">$ npm install grunt-contrib-watch</code></p>\n<p>以上基本需要安装的东西都完成了，接下来进行配置。\n当然这里你也可以不单独安装需要的plugin，而是通过npm install 命令直接安装package.json文件中引入的全部plugins。</p>\n<p>【2】Set Grunt Config\nGrunt项目需要package.json和Gruntfile.js/Gruntfile.coffee这两个配置文件。其中package.json定义了项目中需要引入的plugins，Gruntfile.js定义了Grunt的配置信息。\n首先通过grunt-init [模板名]创建Gruntfile.js文件和package.json文件。</p>\n<p><code class=\"language-text\">$ grunt-init gruntplugin</code></p>\n<p>接下来通过npm init命令根据提示输入项目相关相应参数，完善package.json文件。</p>\n<p><code class=\"language-text\">$ npm init</code></p>\n<p>这里也可以clone我使用的项目</p>\n<p><code class=\"language-text\">$ git clone https://github.com/dandananddada/helloGrunt.git</code></p>\n<p>然后在根目录下执行</p>\n<p><code class=\"language-text\">$ npm install</code></p>\n<p>接下来就可以通过Grunt的命令查看定义的Task，并且执行相应任务了。\n具体任务相关数据配置的说明可参考官网，不在这里细说了。</p>\n<p><a href=\"http://gruntjs.com/configuring-tasks\">http://gruntjs.com/configuring-tasks</a></p>\n<p>【附录】Gruntfile.js</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">module<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">exports</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">grunt</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token keyword\">var</span> config <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n        app<span class=\"token punctuation\">:</span> <span class=\"token string\">'app'</span><span class=\"token punctuation\">,</span>\n        dist<span class=\"token punctuation\">:</span> <span class=\"token string\">'dist'</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n    grunt<span class=\"token punctuation\">.</span><span class=\"token function\">initConfig</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n        pkg<span class=\"token punctuation\">:</span> grunt<span class=\"token punctuation\">.</span>file<span class=\"token punctuation\">.</span><span class=\"token function\">readJSON</span><span class=\"token punctuation\">(</span><span class=\"token string\">'package.json'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        config<span class=\"token punctuation\">:</span> config<span class=\"token punctuation\">,</span>\n        <span class=\"token comment\">//sass->css编译插件</span>\n        sass<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n            options<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n                sourceMap<span class=\"token punctuation\">:</span> <span class=\"token boolean\">false</span>\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n            dist<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n                files<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">{</span>\n                    expand<span class=\"token punctuation\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n                    cwd<span class=\"token punctuation\">:</span> <span class=\"token string\">'&lt;%= config.app %>/styles/sass'</span><span class=\"token punctuation\">,</span>\n                    src<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'*.scss'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n                    dest<span class=\"token punctuation\">:</span> <span class=\"token string\">'app/styles/'</span><span class=\"token punctuation\">,</span>\n                    ext<span class=\"token punctuation\">:</span> <span class=\"token string\">'.css'</span>\n                <span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        <span class=\"token comment\">//清除build后生成的文件（清空dist目录）</span>\n        clean<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n            dist<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n                files<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">{</span>\n                      dot<span class=\"token punctuation\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n                      src<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>\n                          <span class=\"token string\">'.tmp'</span><span class=\"token punctuation\">,</span>\n                          <span class=\"token string\">'&lt;%= config.dist %>/*'</span><span class=\"token punctuation\">,</span>\n                          <span class=\"token string\">'!&lt;%= config.dist %>/.git*'</span>\n                      <span class=\"token punctuation\">]</span>\n                <span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span>\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        <span class=\"token comment\">//合并js和css文件</span>\n        concat<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n            js<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n                src<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'&lt;%= config.app %>/js/**/*.js'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n                dest<span class=\"token punctuation\">:</span> <span class=\"token string\">'&lt;%= config.dist %>/combine/&lt;%= pkg.name %>.js'</span>\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n            css<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n                src<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'&lt;%= config.app %>/styles/**/*.css'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n                dest<span class=\"token punctuation\">:</span> <span class=\"token string\">'&lt;%= config.dist %>/combine/&lt;%= pkg.name %>.css'</span>  \n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        <span class=\"token comment\">// 压缩css文件</span>\n        cssmin<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token comment\">// 保持目录结构压缩</span>\n            compress<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n                files<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">{</span>\n                      expand<span class=\"token punctuation\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n                      cwd<span class=\"token punctuation\">:</span> <span class=\"token string\">'&lt;%= config.app %>/styles/'</span><span class=\"token punctuation\">,</span>\n                      src<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'*.css'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'!*.min.css'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n                      dest<span class=\"token punctuation\">:</span> <span class=\"token string\">'&lt;%= config.dist %>/release/css/'</span><span class=\"token punctuation\">,</span>\n                      ext<span class=\"token punctuation\">:</span> <span class=\"token string\">'.min.css'</span>\n                    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span>\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n            <span class=\"token comment\">// 合并为一个文件后压缩</span>\n            build<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n                files<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">{</span>\n                      expand<span class=\"token punctuation\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n                      cwd<span class=\"token punctuation\">:</span> <span class=\"token string\">'&lt;%= config.dist %>/combine/'</span><span class=\"token punctuation\">,</span>\n                      src<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'*.css'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'!*.min.css'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n                      dest<span class=\"token punctuation\">:</span> <span class=\"token string\">'&lt;%= config.dist %>/release'</span><span class=\"token punctuation\">,</span>\n                      ext<span class=\"token punctuation\">:</span> <span class=\"token string\">'.min.css'</span>\n                    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        <span class=\"token comment\">// 压缩js文件</span>\n        uglify<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n            options<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n            banner<span class=\"token punctuation\">:</span> <span class=\"token string\">'/*! &lt;%= pkg.name %> &lt;%= grunt.template.today(\"yyyy-mm-dd\") %> */\\n'</span>\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n            <span class=\"token comment\">// 保持目录结构压缩</span>\n            compress<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n                options<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n                    mangle<span class=\"token punctuation\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n                    compress<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n                        drop_console<span class=\"token punctuation\">:</span> <span class=\"token boolean\">true</span>\n                    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n                    report<span class=\"token punctuation\">:</span> <span class=\"token string\">\"min\"</span>\n                <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n                files<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">{</span>\n                    expand<span class=\"token punctuation\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n                    cwd<span class=\"token punctuation\">:</span> <span class=\"token string\">'&lt;%= config.app %>/js'</span><span class=\"token punctuation\">,</span>\n                    src<span class=\"token punctuation\">:</span> <span class=\"token string\">'**/*.js'</span><span class=\"token punctuation\">,</span>\n                    dest<span class=\"token punctuation\">:</span> <span class=\"token string\">'&lt;%= config.dist %>/release/js'</span><span class=\"token punctuation\">,</span>\n                    ext<span class=\"token punctuation\">:</span> <span class=\"token string\">'.min.js'</span>\n                <span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span>\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n            <span class=\"token comment\">// 合并为一个文件后压缩</span>\n            build<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n                options<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n                    mangle<span class=\"token punctuation\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n                    compress<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n                        drop_console<span class=\"token punctuation\">:</span> <span class=\"token boolean\">true</span>\n                    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n                    report<span class=\"token punctuation\">:</span> <span class=\"token string\">\"min\"</span>\n                <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n                files<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">{</span>\n                    expand<span class=\"token punctuation\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n                    cwd<span class=\"token punctuation\">:</span> <span class=\"token string\">'&lt;%= config.dist %>/combine'</span><span class=\"token punctuation\">,</span>\n                    src<span class=\"token punctuation\">:</span> <span class=\"token string\">'**/*.js'</span><span class=\"token punctuation\">,</span>\n                    dest<span class=\"token punctuation\">:</span> <span class=\"token string\">'&lt;%= config.dist %>/release'</span><span class=\"token punctuation\">,</span>\n                    ext<span class=\"token punctuation\">:</span> <span class=\"token string\">'.min.js'</span>\n                <span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        <span class=\"token comment\">// 配置ctrl+s触发任务</span>\n        watch<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n            compile<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n                files<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'&lt;%= config.app %>/styles/sass/**/*.scss'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n                tasks<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'sass'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n            livereload<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n                options<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n                    livereload<span class=\"token punctuation\">:</span> <span class=\"token string\">'&lt;%= connect.options.livereload %>'</span>\n                <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n                files<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>\n                    <span class=\"token string\">'&lt;%= config.app %>/{,*/}*.html'</span><span class=\"token punctuation\">,</span>\n                    <span class=\"token string\">'&lt;%= config.app %>/{,*/}*.css'</span><span class=\"token punctuation\">,</span>\n                    <span class=\"token string\">'&lt;%= config.app %>/images/{,*/}*'</span>\n                <span class=\"token punctuation\">]</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        <span class=\"token comment\">// 将当前站点作为服务器启动</span>\n        connect<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n            options<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n                port<span class=\"token punctuation\">:</span> <span class=\"token number\">9001</span><span class=\"token punctuation\">,</span>\n                open<span class=\"token punctuation\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n                livereload<span class=\"token punctuation\">:</span> <span class=\"token number\">35729</span><span class=\"token punctuation\">,</span>\n                hostname<span class=\"token punctuation\">:</span> <span class=\"token string\">'localhost'</span>\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n            livereload<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n                options<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n                    <span class=\"token function-variable function\">middleware</span><span class=\"token punctuation\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">connect</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                        <span class=\"token keyword\">return</span> <span class=\"token punctuation\">[</span>\n                            connect<span class=\"token punctuation\">.</span><span class=\"token function\">static</span><span class=\"token punctuation\">(</span>config<span class=\"token punctuation\">.</span>app<span class=\"token punctuation\">)</span>\n                        <span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n                    <span class=\"token punctuation\">}</span>\n                <span class=\"token punctuation\">}</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        <span class=\"token comment\">// 针对测试作为服务启动</span>\n        karma<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n            unit<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n                configFile<span class=\"token punctuation\">:</span> <span class=\"token string\">'karma.conf.js'</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    grunt<span class=\"token punctuation\">.</span><span class=\"token function\">loadNpmTasks</span><span class=\"token punctuation\">(</span><span class=\"token string\">'grunt-sass'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    grunt<span class=\"token punctuation\">.</span><span class=\"token function\">loadNpmTasks</span><span class=\"token punctuation\">(</span><span class=\"token string\">'grunt-contrib-clean'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    grunt<span class=\"token punctuation\">.</span><span class=\"token function\">loadNpmTasks</span><span class=\"token punctuation\">(</span><span class=\"token string\">'grunt-contrib-concat'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    grunt<span class=\"token punctuation\">.</span><span class=\"token function\">loadNpmTasks</span><span class=\"token punctuation\">(</span><span class=\"token string\">'grunt-contrib-cssmin'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    grunt<span class=\"token punctuation\">.</span><span class=\"token function\">loadNpmTasks</span><span class=\"token punctuation\">(</span><span class=\"token string\">'grunt-contrib-uglify'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    grunt<span class=\"token punctuation\">.</span><span class=\"token function\">loadNpmTasks</span><span class=\"token punctuation\">(</span><span class=\"token string\">'grunt-contrib-watch'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    grunt<span class=\"token punctuation\">.</span><span class=\"token function\">loadNpmTasks</span><span class=\"token punctuation\">(</span><span class=\"token string\">'grunt-contrib-connect'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    grunt<span class=\"token punctuation\">.</span><span class=\"token function\">loadNpmTasks</span><span class=\"token punctuation\">(</span><span class=\"token string\">'grunt-karma'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\">// 将sass文件编译为css文件</span>\n    grunt<span class=\"token punctuation\">.</span><span class=\"token function\">registerTask</span><span class=\"token punctuation\">(</span><span class=\"token string\">'compile'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'sass'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">// 清理dist目录</span>\n    <span class=\"token comment\">// grunt clean,grunt-contrib-clean内置任务</span>\n    <span class=\"token comment\">// 分别合并js和css文件为一个文件</span>\n    grunt<span class=\"token punctuation\">.</span><span class=\"token function\">registerTask</span><span class=\"token punctuation\">(</span><span class=\"token string\">'combine'</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">[</span><span class=\"token string\">'compile'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'concat:css'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'concat:js'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">// 保持原目录结构压缩css文件和js文件</span>\n    grunt<span class=\"token punctuation\">.</span><span class=\"token function\">registerTask</span><span class=\"token punctuation\">(</span><span class=\"token string\">'compress'</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">[</span><span class=\"token string\">'compile'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'cssmin:compress'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'uglify:compress'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">// 部署js文件和css文件（分别将js和css文件合并压缩为一个文件）</span>\n    grunt<span class=\"token punctuation\">.</span><span class=\"token function\">registerTask</span><span class=\"token punctuation\">(</span><span class=\"token string\">'build'</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">[</span><span class=\"token string\">'clean:dist'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'compile'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'combine'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'cssmin:build'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'uglify:build'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">//将当前站点作为服务启动</span>\n    grunt<span class=\"token punctuation\">.</span><span class=\"token function\">registerTask</span><span class=\"token punctuation\">(</span><span class=\"token string\">'server'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'connect:livereload'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'watch'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'watch:compile'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">// 启动js单元测试服务</span>\n    grunt<span class=\"token punctuation\">.</span><span class=\"token function\">registerTask</span><span class=\"token punctuation\">(</span><span class=\"token string\">'test'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'karma'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">// 设置grunt默认任务为server</span>\n    grunt<span class=\"token punctuation\">.</span><span class=\"token function\">registerTask</span><span class=\"token punctuation\">(</span><span class=\"token string\">'default'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'server'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>","frontmatter":{"date":"October 23, 2014","path":"grunt","category":"frontend","title":"Grunt"}}},"pageContext":{"location":"grunt","category":"frontend"}},"staticQueryHashes":[]}